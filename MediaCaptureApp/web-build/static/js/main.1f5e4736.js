(()=>{"use strict";var e={73:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var o=n(6665),r=n(5991),a=n(5479),i=n(3161),l=n(296),s=n(3668),d=n(3929),c=n(6283),u=n(5648),f=n(1690),g=n(530),h=n(3117),p=n(8257),x=n(397);function b(e){var t=e.navigation,n=(0,o.useState)(!1),a=(0,l.default)(n,2),i=a[0],s=(a[1],(0,o.useRef)(null));return i?(0,x.jsx)(d.default,{style:m.container,children:(0,x.jsx)(g.default,{size:"large",color:"#ffffff"})}):(0,x.jsxs)(d.default,{style:m.container,children:[(0,x.jsx)(h.default,{style:"light"}),(0,x.jsxs)(d.default,{style:m.webCameraContainer,children:[(0,x.jsx)(c.default,{style:m.titleText,children:"Media Capture App"}),(0,x.jsx)(c.default,{style:m.messageText,children:"Camera functionality is limited on web."}),(0,x.jsx)(c.default,{style:m.messageText,children:"Please upload a photo or video from your device:"}),"web"===r.default.OS&&(0,x.jsx)("input",{type:"file",ref:s,style:{display:"none"},onChange:function(e){try{var n=e.target.files[0];if(!n)return;var o=n.type.startsWith("image")?"photo":"video",r=URL.createObjectURL(n);console.log("File selected:",n.name,"Type:",o),t.navigate("Preview",{mediaUri:r,mediaType:o,webFile:{name:n.name,size:n.size,type:n.type}})}catch(a){console.error("Error selecting file:",a),f.default.alert("Error","Failed to select media file")}}}),(0,x.jsxs)(d.default,{style:m.buttonContainer,children:[(0,x.jsxs)(u.default,{style:m.uploadButton,onPress:function(){s.current&&(s.current.accept="image/*",s.current.click())},accessibilityLabel:"Upload a photo",children:[(0,x.jsx)(p.default,{name:"camera",size:36,color:"white"}),(0,x.jsx)(c.default,{style:m.buttonText,children:"Upload Photo"})]}),(0,x.jsxs)(u.default,{style:m.uploadButton,onPress:function(){s.current&&(s.current.accept="video/*",s.current.click())},accessibilityLabel:"Upload a video",children:[(0,x.jsx)(p.default,{name:"videocam",size:36,color:"white"}),(0,x.jsx)(c.default,{style:m.buttonText,children:"Upload Video"})]})]})]})]})}var m=s.default.create({container:{flex:1,backgroundColor:"black"},webCameraContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:20},titleText:{color:"#4A90E2",fontSize:24,fontWeight:"bold",textAlign:"center",marginBottom:20},messageText:{color:"white",fontSize:16,textAlign:"center",marginBottom:15},buttonContainer:{flexDirection:"row",justifyContent:"space-around",width:"100%",marginTop:30},uploadButton:{backgroundColor:"#4A90E2",padding:20,borderRadius:10,alignItems:"center",width:"45%"},buttonText:{color:"white",fontSize:16,marginTop:10}}),y=n(484);function j(e){var t=e.route,n=e.navigation,a=t.params,i=a.mediaUri,s=a.mediaType,b=a.webFile,m=(0,o.useState)(!1),j=(0,l.default)(m,2),C=j[0],w=j[1],T=(0,o.useState)(0),S=(0,l.default)(T,2),k=S[0],B=S[1],O=o.useRef(null);(0,o.useEffect)((function(){return function(){"web"===r.default.OS&&i&&i.startsWith("blob:")&&URL.revokeObjectURL(i)}}),[i]);var z;return(0,x.jsxs)(d.default,{style:v.container,children:[(0,x.jsx)(h.default,{style:"light"}),(0,x.jsx)(d.default,{style:v.headerContainer,children:(0,x.jsx)(c.default,{style:v.headerText,children:"Preview"})}),(0,x.jsx)(d.default,{style:v.mediaContainer,children:"photo"===s?(0,x.jsx)(y.default,{source:{uri:i},style:v.mediaPreview,resizeMode:"contain"}):"web"===r.default.OS?(0,x.jsx)("video",{ref:O,src:i,style:{width:"100%",height:"100%",objectFit:"contain"},controls:!0}):(0,x.jsx)(c.default,{style:v.errorText,children:"Video preview not available"})}),(0,x.jsxs)(d.default,{style:v.infoContainer,children:[(0,x.jsxs)(c.default,{style:v.infoText,children:["Type: ","photo"===s?"Photo":"Video"]}),b&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(c.default,{style:v.infoText,children:["Size: ",(z=b.size,z?z<1024?z+" B":z<1048576?(z/1024).toFixed(1)+" KB":(z/1048576).toFixed(1)+" MB":"Unknown size")]}),b.name&&(0,x.jsxs)(c.default,{style:v.infoText,children:["Name: ",b.name]})]})]}),C&&(0,x.jsxs)(d.default,{style:v.progressContainer,children:[(0,x.jsx)(g.default,{size:"small",color:"#ffffff"}),(0,x.jsxs)(c.default,{style:v.progressText,children:["Uploading: ",k,"%"]})]}),(0,x.jsxs)(d.default,{style:v.actionButtonsContainer,children:[(0,x.jsxs)(u.default,{style:[v.actionButton,v.cancelButton],onPress:function(){n.navigate("Camera")},disabled:C,accessibilityLabel:"Cancel and return to camera",children:[(0,x.jsx)(p.default,{name:"close-circle",size:24,color:"white"}),(0,x.jsx)(c.default,{style:v.actionButtonText,children:"Cancel"})]}),(0,x.jsxs)(u.default,{style:[v.actionButton,v.uploadButton,C&&v.disabledButton],onPress:function(){console.log("Uploading file:",(null==b?void 0:b.name)||"unknown file"),w(!0),B(0);var e=setInterval((function(){B((function(t){var o=t+10;return o>=100?(clearInterval(e),setTimeout((function(){w(!1),f.default.alert("Success","Media uploaded successfully!",[{text:"OK",onPress:function(){return n.navigate("Camera")}}])}),500),100):o}))}),300)},disabled:C,accessibilityLabel:"Upload media",children:[(0,x.jsx)(p.default,{name:"cloud-upload",size:24,color:"white"}),(0,x.jsx)(c.default,{style:v.actionButtonText,children:C?"Uploading...":"Upload"})]})]})]})}var v=s.default.create({container:{flex:1,backgroundColor:"#000"},headerContainer:{paddingTop:15,paddingBottom:10,backgroundColor:"#222",alignItems:"center"},headerText:{color:"#4A90E2",fontSize:20,fontWeight:"bold"},mediaContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#111"},mediaPreview:{width:"100%",height:"100%"},errorText:{color:"#ff6b6b",fontSize:16},infoContainer:{padding:15,backgroundColor:"rgba(0, 0, 0, 0.7)"},infoText:{color:"white",fontSize:14,marginBottom:5},progressContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:10,backgroundColor:"rgba(0, 0, 0, 0.7)"},progressText:{color:"white",marginLeft:10},actionButtonsContainer:{flexDirection:"row",justifyContent:"space-around",padding:20,backgroundColor:"rgba(0, 0, 0, 0.8)"},actionButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:12,borderRadius:25,width:"45%"},cancelButton:{backgroundColor:"#555"},uploadButton:{backgroundColor:"#4CAF50"},disabledButton:{opacity:.5},actionButtonText:{color:"white",fontSize:16,marginLeft:8}}),C=(0,i.createStackNavigator)();function w(){return(0,x.jsx)(a.NavigationContainer,{children:(0,x.jsxs)(C.Navigator,{initialRouteName:"Camera",screenOptions:{headerShown:!1,cardStyle:{backgroundColor:"black"},animationEnabled:!0,presentation:"modal"},children:[(0,x.jsx)(C.Screen,{name:"Camera",component:b,options:{gestureEnabled:!1}}),(0,x.jsx)(C.Screen,{name:"Preview",component:j,options:{gestureEnabled:!0,gestureDirection:"horizontal"}})]})})}r.default.OS;function T(){return console.log("Running on platform: "+r.default.OS),(0,x.jsx)(w,{})}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,(()=>{var e=[];n.O=(t,o,r,a)=>{if(!o){var i=1/0;for(c=0;c<e.length;c++){for(var[o,r,a]=e[c],l=!0,s=0;s<o.length;s++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](o[s])))?o.splice(s--,1):(l=!1,a<i&&(i=a));if(l){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,r,a]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,a,[i,l,s]=o,d=0;if(i.some((t=>0!==e[t]))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(s)var c=s(n)}for(t&&t(o);d<i.length;d++)a=i[d],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[674],(()=>n(5036)));o=n.O(o)})();
//# sourceMappingURL=main.1f5e4736.js.map