{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useRef}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Alert from\"react-native-web/dist/exports/Alert\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import Platform from\"react-native-web/dist/exports/Platform\";import{StatusBar}from'expo-status-bar';import{Ionicons}from'@expo/vector-icons';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CameraScreen(_ref){var navigation=_ref.navigation;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var fileInputRef=useRef(null);var handleFileSelection=function handleFileSelection(e){try{var file=e.target.files[0];if(!file)return;var mediaType=file.type.startsWith('image')?'photo':'video';var fileUri=URL.createObjectURL(file);console.log(\"File selected:\",file.name,\"Type:\",mediaType);navigation.navigate('Preview',{mediaUri:fileUri,mediaType:mediaType,webFile:{name:file.name,size:file.size,type:file.type}});}catch(error){console.error(\"Error selecting file:\",error);Alert.alert(\"Error\",\"Failed to select media file\");}};var openImagePicker=function openImagePicker(){if(fileInputRef.current){fileInputRef.current.accept=\"image/*\";fileInputRef.current.click();}};var openVideoPicker=function openVideoPicker(){if(fileInputRef.current){fileInputRef.current.accept=\"video/*\";fileInputRef.current.click();}};if(isLoading){return _jsx(View,{style:styles.container,children:_jsx(ActivityIndicator,{size:\"large\",color:\"#ffffff\"})});}return _jsxs(View,{style:styles.container,children:[_jsx(StatusBar,{style:\"light\"}),_jsxs(View,{style:styles.webCameraContainer,children:[_jsx(Text,{style:styles.titleText,children:\"Media Capture App\"}),_jsx(Text,{style:styles.messageText,children:\"Camera functionality is limited on web.\"}),_jsx(Text,{style:styles.messageText,children:\"Please upload a photo or video from your device:\"}),Platform.OS==='web'&&_jsx(\"input\",{type:\"file\",ref:fileInputRef,style:{display:'none'},onChange:handleFileSelection}),_jsxs(View,{style:styles.buttonContainer,children:[_jsxs(TouchableOpacity,{style:styles.uploadButton,onPress:openImagePicker,accessibilityLabel:\"Upload a photo\",children:[_jsx(Ionicons,{name:\"camera\",size:36,color:\"white\"}),_jsx(Text,{style:styles.buttonText,children:\"Upload Photo\"})]}),_jsxs(TouchableOpacity,{style:styles.uploadButton,onPress:openVideoPicker,accessibilityLabel:\"Upload a video\",children:[_jsx(Ionicons,{name:\"videocam\",size:36,color:\"white\"}),_jsx(Text,{style:styles.buttonText,children:\"Upload Video\"})]})]})]})]});}var styles=StyleSheet.create({container:{flex:1,backgroundColor:'black'},webCameraContainer:{flex:1,justifyContent:'center',alignItems:'center',padding:20},titleText:{color:'#4A90E2',fontSize:24,fontWeight:'bold',textAlign:'center',marginBottom:20},messageText:{color:'white',fontSize:16,textAlign:'center',marginBottom:15},buttonContainer:{flexDirection:'row',justifyContent:'space-around',width:'100%',marginTop:30},uploadButton:{backgroundColor:'#4A90E2',padding:20,borderRadius:10,alignItems:'center',width:'45%'},buttonText:{color:'white',fontSize:16,marginTop:10}});","map":{"version":3,"names":["React","useState","useRef","StyleSheet","View","Text","TouchableOpacity","Alert","ActivityIndicator","Platform","StatusBar","Ionicons","jsx","_jsx","jsxs","_jsxs","CameraScreen","_ref","navigation","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","fileInputRef","handleFileSelection","e","file","target","files","mediaType","type","startsWith","fileUri","URL","createObjectURL","console","log","name","navigate","mediaUri","webFile","size","error","alert","openImagePicker","current","accept","click","openVideoPicker","style","styles","container","children","color","webCameraContainer","titleText","messageText","OS","ref","display","onChange","buttonContainer","uploadButton","onPress","accessibilityLabel","buttonText","create","flex","backgroundColor","justifyContent","alignItems","padding","fontSize","fontWeight","textAlign","marginBottom","flexDirection","width","marginTop","borderRadius"],"sources":["/home/runner/workspace/MediaCaptureApp/src/components/CameraScreen.web.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { StyleSheet, View, Text, TouchableOpacity, Alert, ActivityIndicator, Platform } from 'react-native';\nimport { StatusBar } from 'expo-status-bar';\nimport { Ionicons } from '@expo/vector-icons';\n\n// Simple web implementation of CameraScreen for file upload\nexport default function CameraScreen({ navigation }) {\n  const [isLoading, setIsLoading] = useState(false);\n  const fileInputRef = useRef(null);\n\n  // Handle the file selection\n  const handleFileSelection = (e) => {\n    try {\n      const file = e.target.files[0];\n      if (!file) return;\n\n      // Determine if this is a photo or video based on MIME type\n      const mediaType = file.type.startsWith('image') ? 'photo' : 'video';\n      const fileUri = URL.createObjectURL(file);\n      \n      console.log(\"File selected:\", file.name, \"Type:\", mediaType);\n\n      // Navigate to preview screen with file details\n      navigation.navigate('Preview', {\n        mediaUri: fileUri,\n        mediaType: mediaType,\n        webFile: {\n          name: file.name,\n          size: file.size,\n          type: file.type\n        }\n      });\n    } catch (error) {\n      console.error(\"Error selecting file:\", error);\n      Alert.alert(\"Error\", \"Failed to select media file\");\n    }\n  };\n\n  // Trigger file selection for images\n  const openImagePicker = () => {\n    if (fileInputRef.current) {\n      fileInputRef.current.accept = \"image/*\";\n      fileInputRef.current.click();\n    }\n  };\n\n  // Trigger file selection for videos\n  const openVideoPicker = () => {\n    if (fileInputRef.current) {\n      fileInputRef.current.accept = \"video/*\";\n      fileInputRef.current.click();\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <View style={styles.container}>\n        <ActivityIndicator size=\"large\" color=\"#ffffff\" />\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      <StatusBar style=\"light\" />\n      \n      <View style={styles.webCameraContainer}>\n        <Text style={styles.titleText}>\n          Media Capture App\n        </Text>\n        \n        <Text style={styles.messageText}>\n          Camera functionality is limited on web.\n        </Text>\n        <Text style={styles.messageText}>\n          Please upload a photo or video from your device:\n        </Text>\n        \n        {/* Hidden file input - only available in web environment */}\n        {Platform.OS === 'web' && (\n          <input\n            type=\"file\"\n            ref={fileInputRef}\n            style={{ display: 'none' }}\n            onChange={handleFileSelection}\n          />\n        )}\n        \n        <View style={styles.buttonContainer}>\n          <TouchableOpacity \n            style={styles.uploadButton} \n            onPress={openImagePicker}\n            accessibilityLabel=\"Upload a photo\"\n          >\n            <Ionicons name=\"camera\" size={36} color=\"white\" />\n            <Text style={styles.buttonText}>Upload Photo</Text>\n          </TouchableOpacity>\n          \n          <TouchableOpacity \n            style={styles.uploadButton} \n            onPress={openVideoPicker}\n            accessibilityLabel=\"Upload a video\"\n          >\n            <Ionicons name=\"videocam\" size={36} color=\"white\" />\n            <Text style={styles.buttonText}>Upload Video</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: 'black',\n  },\n  webCameraContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  titleText: {\n    color: '#4A90E2',\n    fontSize: 24,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  messageText: {\n    color: 'white',\n    fontSize: 16,\n    textAlign: 'center',\n    marginBottom: 15,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    width: '100%',\n    marginTop: 30,\n  },\n  uploadButton: {\n    backgroundColor: '#4A90E2',\n    padding: 20,\n    borderRadius: 10,\n    alignItems: 'center',\n    width: '45%',\n  },\n  buttonText: {\n    color: 'white',\n    fontSize: 16,\n    marginTop: 10,\n  },\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}